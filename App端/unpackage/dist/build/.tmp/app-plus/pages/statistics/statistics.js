(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/statistics/statistics"],{"0d68":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},8246:function(t,e,n){"use strict";var a=n("ac39"),i=n.n(a);i.a},"912d":function(t,e,n){"use strict";n.r(e);var a=n("0d68"),i=n("94ec");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("8246");var s=n("2877"),u=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=u.exports},"94ec":function(t,e,n){"use strict";n.r(e);var a=n("acef"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},ac39:function(t,e,n){},acef:function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("651d"));function o(t){return t&&t.__esModule?t:{default:t}}var s,u=null,r=function(){return n.e("components/no-thing").then(n.bind(null,"ba61"))},c={components:{noThing:r},data:function(){return{cWidth:"",cHeight:"",pixelRatio:1,serverData:"",listIndex:0,roomName:"",headCount:0,signCount:0,infoList:[],swiperHeight:0,isHaveData:!1}},onLoad:function(){var e=this;s=this,this.cWidth=t.upx2px(750),this.cHeight=t.upx2px(500),this.getStatistics(),t.getSystemInfo({success:function(t){var n=t.windowHeight-e.CustomBar;e.swiperHeight=n}})},methods:{getStatistics:function(){var e=this,n=t.getStorageSync("USERID");t.request({url:s.apiServer+"sign&m=getStatistics",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{userId:n},success:function(n){if(n=n.data,null==n.data)return e.isHaveData=!1,void t.showToast({title:"还没有签到数据，签到以后才可查看",icon:"none"});if(e.isHaveData=!0,"ok"==n.status){e.infoList=n.data;var a=n.data[0];e.roomName=a.roomName,e.headCount=a.headCount,e.signCount=a.signCount;var i={series:[]};i.series=[{name:"已签到",data:a.signCount},{name:"未签到",data:a.headCount-a.signCount}],s.showPie("canvasPie",i)}}})},showPie:function(t,e){u=new i.default({$this:s,canvasId:t,type:"pie",fontSize:13,legend:!0,background:"#FFFFFF",pixelRatio:s.pixelRatio,series:e.series,animation:!0,width:s.cWidth*s.pixelRatio,height:s.cHeight*s.pixelRatio,dataLabel:!0,extra:{pie:{lableWidth:10}}})},touchPie:function(t){u.showToolTip(t,{format:function(t){return t.name+":"+t.data}})},backIndex:function(){t.navigateBack({delta:1})},switcher:function(){for(var e=this.infoList,n=new Array,i=0;i<e.length;i++)n.push(e[i].roomName);t.showActionSheet({itemList:n,success:function(t){s.roomName=e[t.tapIndex].roomName,s.headCount=e[t.tapIndex].headCount,s.signCount=e[t.tapIndex].signCount;var n={series:[]};n.series=[{name:"已签到",data:e[t.tapIndex].signCount},{name:"未签到",data:e[t.tapIndex].headCount-e[t.tapIndex].signCount}],s.showPie("canvasPie",n)},fail:function(t){console.log(a(t.errMsg," at pages\\statistics\\statistics.vue:173"))}})}}};e.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])}},[["93d4","common/runtime","common/vendor"]]]);