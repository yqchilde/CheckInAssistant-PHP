<view><cu-custom vue-id="1" bgColor="bg-blue" isBack="{{true}}" bind:__l="__l" vue-slots="{{['content']}}"><view class="text-xl" slot="content">签到</view></cu-custom><view class="top u-f-ac u-f-column"><view class="item u-f-ajc u-f-jsb"><text class="top-left">课堂名称</text><text class="top-right">{{roomName}}</text></view><view class="item u-f-ajc u-f-jsb"><text class="top-left">发起人</text><text class="top-right">{{uName}}</text></view><view class="item u-f-ajc u-f-jsb"><text class="top-left">时间</text><text class="top-right">{{times}}</text></view><view class="item u-f-ajc u-f-jsb"><text class="top-left">签到方式</text><text class="top-right">{{"按"+signInWayTxt+"方式签到"}}</text></view></view><block wx:if="{{openMode=='create'&&signInWay=='code'}}"><view class="signCode u-f-ac u-f-column"><view class="label">签到码</view><view class="flex"><block wx:for="{{signCode}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="grid flex align-center justify-center">{{item}}</view></block></view><view data-event-opts="{{[['tap',[['viewSign',['$0'],['signId']]]]]}}" class="signCode-btn u-f-ajc" bindtap="__e">查</view></view></block><block wx:if="{{openMode=='create'&&signInWay=='gps'}}"><view class="margin-top-xl u-f-ac u-f-column"><map style="width:100%;height:200px;" latitude="{{latitude}}" longitude="{{longitude}}" markers="{{covers}}"></map><view data-event-opts="{{[['tap',[['viewSign',['$0'],['signId']]]]]}}" class="signCode-btn u-f-ajc" bindtap="__e">查</view></view></block><block wx:else><block wx:if="{{openMode=='join'&&signInWay=='code'}}"><view class="signCode u-f-ac u-f-column" style="margin-top:50rpx;"><view class="label">请输入签到码，完成签到</view><view class="text-lg" style="color:#9B9B9B;">（签到码由发起者获取并告知）</view><view class="flex"><number-box vue-id="2" maxlength="{{4}}" data-event-opts="{{[['^finish',[['getCode']]]]}}" bind:finish="__e" bind:__l="__l"></number-box></view></view><block wx:if="{{signStatus==0}}"><view class="u-f-ajc"><view data-event-opts="{{[['tap',[['toSignIn',['$0'],['signId']]]]]}}" class="btnStart u-f-ajc" bindtap="__e">立即签到</view></view></block><block wx:else><block wx:if="{{signStatus==1||signStatus==3}}"><view class="u-f-ajc"><view data-event-opts="{{[['tap',[['viewSign',['$0'],['signId']]]]]}}" class="btnEnd u-f-ajc u-f-column" bindtap="__e">已签到<view class="text-sm">（点击查看签到情况）</view></view></view></block><block wx:else><block wx:if="{{signStatus==2}}"><view class="u-f-ajc"><view class="btnEnd u-f-ajc">签到结束</view></view></block></block></block></block><block wx:else><block wx:if="{{openMode=='join'&&signInWay=='gps'}}"><uni-notice-bar vue-id="3" scrollable="{{true}}" single="{{true}}" speed="{{50}}" text="{{dizhi}}" bind:__l="__l"></uni-notice-bar><view class="signCode u-f-ac u-f-column" style="margin-top:50rpx;"><view style="color:#F4645F;">温馨提示：为了更精确的定位，请开启WLAN</view><view class="text-lg">{{"["+rangeTxt+"]"}}</view><image style="height:60rpx;width:60rpx;float:right;" src="/static/images/inc/refresh.png" mode="widthFix" data-event-opts="{{[['tap',[['refreshRange',['$event']]]]]}}" bindtap="__e"></image></view><block wx:if="{{signStatus==0}}"><view class="u-f-ajc"><view data-event-opts="{{[['tap',[['toSignIn',['$0'],['signId']]]]]}}" class="btnStart u-f-ajc" bindtap="__e">立即签到</view></view></block><block wx:else><block wx:if="{{signStatus==1||signStatus==3}}"><view class="u-f-ajc"><view data-event-opts="{{[['tap',[['viewSign',['$0'],['signId']]]]]}}" class="btnEnd u-f-ajc u-f-column" bindtap="__e">已签到<view class="text-sm">（点击查看签到情况）</view></view></view></block><block wx:else><block wx:if="{{signStatus==2}}"><view class="u-f-ajc"><view class="btnEnd u-f-ajc">签到结束</view></view></block><block wx:else><block wx:if="{{signStatus==4}}"><view class="u-f-ajc"><view class="btnEnd u-f-ajc">立即签到</view></view></block></block></block></block></block></block></block><block wx:if="{{signStatus==2||signStatus==3}}"><view class="timerEnd flex justify-center align-center">已 结 束</view></block><block wx:else><view class="timerStart flex justify-center align-center">{{'剩 余 时 间：'+currentTime+'s'}}</view></block></view>